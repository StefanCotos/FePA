<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FePA</title>
    <link rel="stylesheet" href="generic.css">
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="homepage.css">
    <link rel="stylesheet" href="footer.css">
</head>

<body>
    <div class="wrapper">
        <header>
            <a href="homepage.html">
                <img class="logo" src="assets/Logo.png" alt="Logo">
            </a>
            <div class="menu">
                <a class="no-link-style">
                    <div class="menu__about">About</div>
                </a>
                <a class="no-link-style" href="report.html">
                    <div class="menu__report">Report</div>
                </a>
                <a class="no-link-style" href="contact.html">
                    <div class="menu__contact">Contact</div>
                </a>
                <div class="menu__log_in menu__log_in--button half_button" id="profile">
                    <a class="left_half no-link-style" href="log_in.html">Log In</a>/
                    <a class="right_half no-link-style" href="sign_in.html">Sign In</a>
                </div>
            </div>
        </header>
    </div>
    <main>
        <div class="block">
            <p>to be added</p>
        </div>
        <div class="profile_menu" id="closable">
            <div class="profile_menu--options no-link-style">Settings</div>
            <div class="profile_menu--options no-link-style" id="logout">Log Out</div>
            <span class="close no-link-style">&times;</span>
        </div>
        <footer id="myFooter">
            <a href="homepage.html">
                <img class="footer__logo" src="assets/Logo.png" alt="Logo">
            </a>
            <div class="footer__content">
                <div>Contact Us</div>
                <a class="no-link-style" href="mailto:stefancotos8@gmail.com">
                    stefancotos8@gmail.com
                </a>
                <a class="no-link-style" href="mailto:burcaiulianstefan@gmail.com">
                    burcaiulianstefan@gmail.com
                </a>
                <a class="no-link-style" href="tel:+40747816344">
                    Tel: +40 747 816 344
                </a>
            </div>
            <div class="footer__content">
                <a class="no-link-style">About</a>
                <a class="no-link-style">Report</a>
                <a class="no-link-style">Contact</a>
            </div>
        </footer>
    </main>
    <script>
        const profile = document.getElementById('profile');
        let ok = false;

        const storedButtonText = localStorage.getItem('profileButton');
        if (storedButtonText) {
            ok = true;
            profile.textContent = storedButtonText;
            profile.classList.add('no-link-style');
        }

        if (ok) {
            const openMenu = document.getElementById("closable");

            profile.addEventListener('click', function () {
                openMenu.style.display = "flex";
            });

            const closeSpan = document.getElementsByClassName("close")[0];
            closeSpan.addEventListener("click", function () {
                openMenu.style.display = "none";
            });
            window.addEventListener("click", function (event) {
                if (event.target === openMenu) {
                    openMenu.style.display = "none";
                }
            });

            const logout = document.getElementById("logout");
            logout.addEventListener('click', function () {
                setTimeout(function () {
                    localStorage.removeItem('profileButton');
                    window.location.href = 'homepage.html';
                }, 2000);
            });
        }

    </script>
</body>

</html>